(this["webpackJsonpmovie-catalog"]=this["webpackJsonpmovie-catalog"]||[]).push([[0],{108:function(e,a,t){},109:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(42),c=t.n(r),i=(t(83),t(18)),o=t(22),s={loading:!1,movieArr:[],tvShowArr:[],error:""},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MovieRequestSend":return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case"TvShowRequestSuccess":return Object(o.a)(Object(o.a)({},e),{},{loading:!1,tvShowArr:a.payload});case"MovieRequestSuccess":return Object(o.a)(Object(o.a)({},e),{},{loading:!1,movieArr:a.payload});case"MovieRequestFailure":return{loading:!1,movieArr:[],tvShowArr:[],error:"something went wrong! "};default:return e}},d=t(17),u=t(27),v=Object(u.f)((function(e){var a=e.history;return Object(n.useEffect)((function(){var e=a.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),null})),g=t(10),E=t(8);function p(){var e=Object(g.a)(["\n      fragment basicDetailFragment on MovieList {\n        isMovie\n        title\n        release_date\n        id\n        poster_path\n        backdrop_path\n        overview\n        genre_ids\n      }\n    "]);return p=function(){return e},e}var b={fragments:{basicDetail:Object(E.gql)(p())}};function h(){var e=Object(g.a)(["\n  query FetchSearchList($searchTerm: String) {\n    searchMovieList(searchTerm: $searchTerm) {\n      ...basicDetailFragment\n    }\n  }\n  ","\n"]);return h=function(){return e},e}var f=Object(E.gql)(h(),b.fragments.basicDetail);function _(){var e=Object(g.a)(["\n  query FetchMovieList {\n    movieList {\n      ...basicDetailFragment\n    }\n  }\n  ","\n"]);return _=function(){return e},e}var N=Object(E.gql)(_(),b.fragments.basicDetail);function w(){var e=Object(g.a)(["\n  query FetchTVShowList {\n    TVShowList {\n      ...basicDetailFragment\n    }\n  }\n  ","\n"]);return w=function(){return e},e}var y=Object(E.gql)(w(),b.fragments.basicDetail);function O(){var e=Object(g.a)(["\n  query QueryMovieDetail($id: ID, $isMovie: Boolean) {\n    movieDetail(id: $id, isMovie: $isMovie) {\n      TMDB_MovieDetail {\n        imdb_id\n        id\n        title\n        number_of_seasons\n        number_of_episodes\n        release_date\n        poster_path\n        backdrop_path\n        overview\n        credits {\n          name\n          character\n          profile_path\n        }\n        budget\n        videos {\n          name\n          type\n          key\n        }\n        images {\n          backdrops {\n            file_path\n          }\n          posters {\n            file_path\n          }\n        }\n      }\n      OMDB_MovieDetail {\n        Genre\n        Director\n        Writer\n        Actors\n        Country\n        Awards\n        Ratings {\n          Source\n          Value\n        }\n        Runtime\n        imdbRating\n        Production\n      }\n    }\n  }\n"]);return O=function(){return e},e}var j=Object(E.gql)(O()),k=function(e){return l.a.createElement("div",null,l.a.createElement("p",null,"Footer !!"))},x=t(32);function S(){var e=Object(g.a)(["\n  body {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box; \n  }\n"]);return S=function(){return e},e}var T=Object(x.a)(S()),A=function(e){var a=e.children;return l.a.createElement(l.a.Fragment,null,l.a.createElement(T,null),l.a.createElement("div",null,a),l.a.createElement(k,null))},M=function(e){var a=e.combinedFetch,t=a.poster_path,n=a.backdrop_path,r=a.title,c=a.release_date,i=a.overview,o=a.budget,s=a.Genre,m=a.Director,d=a.Writer,u=a.number_of_episodes,v=a.number_of_seasons,g=a.Country,E=a.Awards,p=a.Ratings,b=a.imdbRating,h=a.Production,f=a.Runtime,_=o?(new Intl.NumberFormat).format(o):void 0,N="";p&&p.length>0&&p.map((function(e){"Rotten Tomatoes"===e.Source&&(N=e.Value)}));var w="no_image"!==t?t:n;return l.a.createElement("div",{className:"basic-info-container"},l.a.createElement("div",{className:"container-fluid basic-info"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-md-5 pt-4 text-center"},l.a.createElement("img",{className:"basic-info__image",src:"no_image"!==w?w:"".concat("/movie-catalog","/img/no_image.png"),alt:r})),l.a.createElement("div",{className:"col mt-3 mt-md-0 pt-4"},c&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Release Date:")," ",c,l.a.createElement("br",null)),s&&"N/A"!==s&&l.a.createElement(l.a.Fragment,null," ",l.a.createElement("span",null,"Genres:")," ",s,l.a.createElement("br",null)),f&&"N/A"!==f&&l.a.createElement(l.a.Fragment,null," ",l.a.createElement("span",null,"Runtime:")," ",f,l.a.createElement("br",null)),u&&void 0!==u&&l.a.createElement(l.a.Fragment,null," ",l.a.createElement("span",null,"Number Of Episodes:")," ",u,l.a.createElement("br",null)),v&&void 0!==v&&l.a.createElement(l.a.Fragment,null," ",l.a.createElement("span",null,"Number Of Seasons:")," ",v,l.a.createElement("br",null)),_&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Budget:")," ",_," ",l.a.createElement("br",null)),m&&"N/A"!==m&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Director:")," ",m," ",l.a.createElement("br",null)),d&&"N/A"!==d&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Writer:")," ",d," ",l.a.createElement("br",null)),g&&"N/A"!==g&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Country:")," ",g," ",l.a.createElement("br",null)),E&&"N/A"!==E&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Awards:")," ",E," ",l.a.createElement("br",null)),h&&"N/A"!==h&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Production:")," ",h," ",l.a.createElement("br",null)),b&&"N/A"!==b&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"IMDB: "),b," ",l.a.createElement("br",null)),""!==N&&"N/A"!==N&&l.a.createElement("p",null,l.a.createElement("span",null,"Rotten Tomatoes:")," ",N," "),i&&l.a.createElement("p",null,l.a.createElement("span",null,"Overview:")," ",i," ")))))},D=function(e){var a=e.cast,t=e.actors;return l.a.createElement("div",null,l.a.createElement("div",null,a&&0===a.length&&t&&"N/A"!==t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"h3"},"The Cast: ")," ",t),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},a.map((function(e,a){var t=e.profile_path?"https://image.tmdb.org/t/p/w185/".concat(e.profile_path):"".concat("/movie-catalog","/img/no_image.png");return l.a.createElement("div",{key:a,className:"cast-container clo col-6 col-sm-4 col-md-3 p-0 border d-flex align-items-stretch"},l.a.createElement("div",{className:"cast text-center"},l.a.createElement("div",{className:"cast__img-container"},l.a.createElement("img",{src:t,alt:e.name})),l.a.createElement("div",{className:"cast__character"},l.a.createElement("span",{className:"lead"},e.name," "),l.a.createElement("br",null),l.a.createElement("span",{className:""},e.character," "))))}))))," "))},L=t(49),F=t.n(L),R=function(e){var a=e.image,t=(e.length,e.openOverlay);return l.a.createElement("div",null,l.a.createElement("img",{onClick:function(e){t(e)},src:"".concat("https://image.tmdb.org/t/p/","w1280").concat(a.file_path),style:{width:"100%"}}))},C=function(e){var a=e.images.backdrops,t=Object(n.useState)(""),r=Object(i.a)(t,2),c=r[0],o=r[1],s=Object(n.useState)(!1),m=Object(i.a)(s,2),d=m[0],u=m[1],v=Object(n.useRef)(),g=function(e){o(e.currentTarget.src),u(!0)},E={dots:!0,infinite:!0,initialSlide:1,slidesToShow:3,slidesToScroll:3,autoplay:!1,autoplaySpeed:2e3,pauseOnHover:!1,responsive:[{breakpoint:768,settings:{className:"center",centerMode:!0,dots:!1,arrows:!1,slidesToShow:2,infinite:!0,slidesToScroll:1,swipeToSlide:!0}},{breakpoint:600,settings:{dots:!1,className:"center",centerMode:!0,arrows:!1,slidesToShow:1,infinite:!0,slidesToScroll:1,swipeToSlide:!0}}]};return l.a.createElement("div",{className:"ImagesSlide mb-4"},l.a.createElement(F.a,E,a.map((function(e,t){return l.a.createElement(R,{image:e,key:t,openOverlay:g,length:a.length})}))),d?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"overlay",onClick:function(e){e.target===v.current&&u(!1)},ref:v},l.a.createElement("button",{onClick:function(){return u(!1)},type:"button",className:"close","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")),l.a.createElement("div",{className:"overlay__image-container"},l.a.createElement("img",{src:c})))):"")},P=function(e){var a=e.video,t=e.index,r="https://www.youtube.com/embed/"+a.key,c=Object(n.useRef)(null),i=Object(n.useRef)(null),o=function(){c.current.src=c.current.src};return Object(n.useEffect)((function(){i.current.addEventListener("click",o)}),[]),l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-sm-6 d-flex align-items-center  border-bottom"},a.name),l.a.createElement("div",{className:"col d-flex align-items-center justify-content-center p-1"},l.a.createElement("button",{type:"button",className:"btn btn-primary trailer-button","data-toggle":"modal","data-target":"#trailer"+t.toString(),onClick:function(){c.current.src=r}},"Watch Trailer")))),l.a.createElement("div",{className:"modal fade bd-example-modal-lg",id:"trailer"+t.toString(),ref:i,tabIndex:-1,role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-lg"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},a.name),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:o},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")))," ",l.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},l.a.createElement("iframe",{ref:c,className:"embed-responsive-item",src:"",allowFullScreen:!0}))))))};function I(){var e=Object(g.a)(["\n  color: #ccc;\n  font-weight: 300;\n  font-size: 1.5rem;\n  margin: 6px 0;\n"]);return I=function(){return e},e}function q(){var e=Object(g.a)(["\n  /* color: #fff; */\n  margin-top: 6px;\n  color: #ccc;\n  font-weight: 300;\n"]);return q=function(){return e},e}function B(){var e=Object(g.a)(["\n  overflow: hidden;\n  padding: 0 0 2px;\n  margin: 0px auto 0;\n  width: 200px;\n\n  height: 100%;\n\n  /* height: auto; */\n  /* border-bottom: 4px solid black; */\n  border-bottom: ",';\n  /* font-family: Quicksand, arial, sans-serif; */\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.05), 0 0px 40px rgba(0, 0, 0, 0.08);\n  border-radius: 5px;\n\n  img {\n    min-width: 200px;\n    width: 100%;\n  }\n  &::before {\n    content: "";\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n\n  position: relative;\n  .movie-info {\n    text-align: center;\n    display: none;\n    background-color: rgba(0, 0, 0, 0.7);\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    transition: 1s ease-in;\n  }\n\n  &:hover .movie-info {\n    display: block;\n    color: #ddd;\n  }\n']);return B=function(){return e},e}var V=x.b.div(B(),(function(e){return"no_image"===e.no_image?"1px solid black":"none"})),J=x.b.h5(q()),W=x.b.div(I()),G=function(e){var a=e.oneMovie,t=a.isMovie,n=a.id,r=a.poster_path,c=a.backdrop_path,i=a.title,o=a.release_date,s=t?"film":"tv-show",m="no_image"!==r?r:c;return l.a.createElement("div",null,l.a.createElement(d.b,{to:{pathname:"/details/".concat(s,"/").concat(n,"/").concat(i.split(" ").join("-")),state:{movie:JSON.stringify(a)}}},l.a.createElement(V,{no_image:m},l.a.createElement("img",{src:"no_image"!==m?m:"".concat("/movie-catalog","/img/no_image.png"),alt:i+n}),l.a.createElement("div",{className:"movie-info"},l.a.createElement(J,null,i),l.a.createElement(W,null,"(",o,") ")))))},$=function(e){var a=e.movieList,t=e.listType;return l.a.createElement("div",{className:"movies-list-container container text-light  mt-4"},l.a.createElement("h1",null,t),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},a&&a.slice(0,10).map((function(e){return l.a.createElement("div",{className:"col m-2 p-0 d-flex justify-content-center align-items-stretch",key:e.id},l.a.createElement(G,{oneMovie:e,key:e.id}))})))),l.a.createElement("hr",null))},Q=function(e){var a=e.oneMovie,t=a.isMovie,n=a.title,r=a.backdrop_path,c=a.id,i=a.overview,o=a.release_date,s=a.Genres,m=t?"film":"tv-show";return l.a.createElement("div",{className:"slide-container"},l.a.createElement("img",{src:r,alt:n}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"slide slide--has-caption slick-slide"},l.a.createElement("div",{className:"slide__caption"},l.a.createElement(d.b,{to:{pathname:"/details/".concat(m,"/").concat(c,"/").concat(n.split(" ").join("-")),state:{movie:JSON.stringify(a)}}},l.a.createElement("h1",{className:"slide__caption__title"},n)),l.a.createElement("ul",{className:"list-inline"},l.a.createElement("li",{className:"slide__caption__release-date list-inline-item"},l.a.createElement("span",null,"Release date: "),o),l.a.createElement("li",{className:"slide__caption__genres list-inline-item"},l.a.createElement("span",null,"Genres: "),s)),l.a.createElement("p",{className:"slide__caption__overview d-none d-md-block"},i," ")))))},K=function(e){var a=e.movieList,t={slidesToShow:1,slidesToScroll:1,dots:!0,infinite:!0,initialSlide:1,autoplay:!0,arrows:!1,autoplaySpeed:5e3,pauseOnHover:!1};return l.a.createElement("div",{className:"main-slider container"},l.a.createElement(F.a,t,a&&a[0]&&a[0].backdrop_path&&a.map((function(e){return"/movie-catalog/img/no_image.png"!==e.backdrop_path&&l.a.createElement(Q,{oneMovie:e,key:e.id})}))))},U=function(){var e=Object(E.useQuery)(N),a=e.loading,t=e.error,n=e.data,r=Object(E.useQuery)(y),c=r.loading,i=r.error,o=r.data;return a||c?l.a.createElement("div",null,"Loading ... "):t||i?l.a.createElement("div",null,"Something went wrong ",":("):l.a.createElement(A,null,l.a.createElement("div",null,l.a.createElement(K,{movieList:n.movieList}),l.a.createElement($,{movieList:n.movieList,listType:"Movies"}),l.a.createElement($,{movieList:o.TVShowList,listType:"TV Shows"})))},H=function(){return l.a.createElement(A,null,l.a.createElement("div",{className:"container-fluid about-container text-center bg-dark font-weight-bold text-light",style:{height:"100vh"}},l.a.createElement("div",{className:"row h-100 border border-light border my-auto"},l.a.createElement("div",{className:"col-12 d-flex flex-column justify-content-center align-items-center"},l.a.createElement("p",{style:{width:"75%"},className:"about-text"},"this website is meant to give the user enough information to decide whether if a movie is worth watching from the user perspective, by providing the user with information related to the movie like the (actors, directors, overview, release-date , Ratings ...) and movie images and trailers, by using the public APIs from TMDB and OMDB")))))},z=function(e){var a=e.match,t=e.location,r=a.params.keyword.substring(1),c=function(e,a){var t=Object(n.useState)((function(){try{var t=localStorage.getItem(e);return t?JSON.parse(t):a}catch(n){return a}})),l=Object(i.a)(t,2),r=l[0],c=l[1];return Object(n.useEffect)((function(){if(r)try{localStorage.setItem(e,JSON.stringify(r))}catch(a){console.log("error: ",a)}}),[r,e]),[r,c]}("session-type",t.state),o=Object(i.a)(c,2),s=o[0],m=o[1];return Object(n.useEffect)((function(){t.state&&t.state.searchedMovies&&m(t.state)}),[r]),l.a.createElement(A,null,l.a.createElement("div",null,l.a.createElement("div",{className:"container text-light mt-5"},a.params&&a.params.keyword&&l.a.createElement("h1",null,"Result for: ",s&&s.keyword," "),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},s&&s.searchedMovies&&JSON.parse(s.searchedMovies).map((function(e,a){return l.a.createElement("div",{className:"col  m-2 p-0 d-flex align-items-stretch justify-content-center",key:a},l.a.createElement(G,{oneMovie:e}))})))))))},Y=function(){return l.a.createElement(A,null,l.a.createElement("div",{style:{color:"white"}},l.a.createElement("h1",null,"Allllll "),l.a.createElement("h1",null,"Allllll "),l.a.createElement("h1",null,"Allllll "),l.a.createElement("h1",null,"Allllll "),l.a.createElement("h1",null,"Allllll "),l.a.createElement("h1",null,"Allllll "),l.a.createElement("h1",null,"Allllll "),l.a.createElement("h1",null,"Allllll "),l.a.createElement("h1",null,"Allllll ")))};function X(){return l.a.createElement(A,null,l.a.createElement("div",{className:"container-fluid text-center bg-dark font-weight-bold text-light",style:{height:"100vh"}},l.a.createElement("div",{className:"row h-100  my-auto"},l.a.createElement("div",{className:"col-12  d-flex flex-column justify-content-center"},l.a.createElement("p",{className:"display-1"},"404"),l.a.createElement("p",null,"Not Found...!!!!! ")))))}var Z=function(e){var a,t,n,r,c=e.match.params,i=c.id,s=c.kind,m=c.title,d="film"===s,u=Object(E.useQuery)(j,{variables:{id:i,isMovie:d}}),v=u.loading,g=u.error,p=u.data;if(v)return l.a.createElement("div",{style:{color:"white",fontSize:"50px"}},"Loading ... ");if(g)return l.a.createElement("div",null,"Error, something went wrong!");var b,h,f,_=Object(o.a)(Object(o.a)({},p.movieDetail.OMDB_MovieDetail),p.movieDetail.TMDB_MovieDetail);(null===_||void 0===_?void 0:_.videos)&&0!==(null===_||void 0===_||null===(a=_.videos)||void 0===a?void 0:a.length)?b=null===(f=_.videos)||void 0===f?void 0:f.map((function(e,a){return l.a.createElement(P,{video:e,key:a,index:a})})):b=l.a.createElement("div",{className:"container"},l.a.createElement("p",{className:"trailer-available"}," No Related Videos Found! ")," ");return h=(null===_||void 0===_?void 0:_.images)&&(null===_||void 0===_||null===(t=_.images)||void 0===t?void 0:t.backdrops)?l.a.createElement(C,{images:_.images}):l.a.createElement("h3",null,"No Images Found "),l.a.createElement(A,null,l.a.createElement("div",{className:"movie-details-container  px-sm-5 pb-5"},l.a.createElement("div",{id:"accordion"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header",id:"headingOne"},l.a.createElement("h5",{className:"mb-0"},l.a.createElement("button",{className:"btn btn-link","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},"Movie Details"))),l.a.createElement("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordion"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12  text-center border border-red"},l.a.createElement("p",{className:"h1 my-3 movie-detail__title"},m.split("-").join(" ")," ")))),v&&l.a.createElement("h1",null,"Loading ............"),g&&l.a.createElement("h3",null,":("," ",l.a.createElement("br",null)," it seems like something went wrong!"," "),!v&&l.a.createElement(M,{combinedFetch:_})))),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header",id:"headingTwo"},l.a.createElement("h5",{className:"mb-0"},l.a.createElement("button",{className:"btn btn-link collapsed","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"},"Media (Images and Videos)"))),l.a.createElement("div",{id:"collapseTwo",className:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordion"},h,(null===_||void 0===_||null===(n=_.videos)||void 0===n||null===(r=n.results)||void 0===r?void 0:r.length)>0&&l.a.createElement("div",{className:"container"},l.a.createElement("p",{className:"trailer-available"},"Available Trailers:")," "),b)),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header",id:"headingThree"},l.a.createElement("h5",{className:"mb-0"},l.a.createElement("button",{className:"btn btn-link collapsed","data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"},"Credits: The Cast...."))),l.a.createElement("div",{id:"collapseThree",className:"collapse","aria-labelledby":"headingThree","data-parent":"#accordion"},l.a.createElement("div",{className:"card-body"},_&&0===Object.keys(_).length&&l.a.createElement("h1",null,"No Actors Found"),"N/A"===_.Actors&&l.a.createElement("p",null,"unfortunately, we couldn't find information related to the Actors ",":("," "),_&&_.credits&&l.a.createElement("div",{className:"container mt-4"},l.a.createElement(D,{cast:_.credits,actors:_.Actors}))))))))},ee=(t(108),function(e){var a=e.movie,t=a.poster_path,n=a.backdrop_path,r=a.isMovie,c=a.id,i=a.title,o=a.release_date,s=a.Genres,m=r?"film":"tv-show",u="no_image"!==t?t:n;return l.a.createElement("div",null,l.a.createElement("div",{className:"suggestions__item d-flex border bg-white"},l.a.createElement("img",{src:"no_image"!==u?u:"".concat("/movie-catalog","/img/no_image.png"),className:"suggestions__item__image"}),l.a.createElement("div",{className:"suggestions__item__info pl-2"},l.a.createElement(d.b,{to:{pathname:"/details/".concat(m,"/").concat(c,"/").concat(i.split(" ").join("-")),state:{movie:JSON.stringify(a)}}},l.a.createElement("p",{className:"suggestions__item__info__title m-0  font-weight-bold"},i)),l.a.createElement("p",{className:"suggestions__item__info__year m-0 text-muted"},"Release: ",o),l.a.createElement("p",{className:"suggestions__item__info__genres m-0 text-muted"},s," "))))}),ae=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"suggestions__item d-flex border bg-white"},l.a.createElement("div",{className:"suggestions__item__info pl-2"},l.a.createElement("p",{className:"suggestions__item__info__title m-0"},l.a.createElement("span",{className:"m-0 font-weight-bold",style:{color:"rgb(0, 123, 255)"}},"Loading ..."," ")))))},te=t(77),ne=function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(!1),o=Object(i.a)(c,2),s=o[0],m=o[1],u=l.a.useRef(null),v=le(t,500),g=v.loading,E=v.data;function p(e){var a=e.target,t=a.closest(".suggestions__button"),n=a.closest(".search-box"),l=a.closest(".suggestions");if(a.closest(".suggestions__item__info__title"))return m(!1),void(u.current.value="");t&&(m(!1),u.current.value=""),n||l||m(!1)}return Object(n.useEffect)((function(){return window.addEventListener("click",p),function(){return window.removeEventListener("click",p)}}),[]),l.a.createElement("nav",{className:"navbar fixed-top navbar-expand-lg navbar-dark bg-dark"},l.a.createElement("div",{className:"container"},l.a.createElement(d.b,{className:"navbar-brand",to:"/"},"Movie Catalog"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExample07","aria-controls":"navbarsExample07","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarsExample07"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement(d.b,{className:"nav-link",to:"/about"},"About ",l.a.createElement("span",{className:"sr-only"},"(current)")))),l.a.createElement("form",{className:"form-inline my-2 my-md-0 search-form form-group"},l.a.createElement("input",{ref:u,onChange:function(e){""===e.target.value?m(!1):m(!0),r(e.target.value)},className:"form-control w-100 search-box",type:"text",placeholder:"Search","aria-label":"Search"}),l.a.createElement("div",{className:"suggestions rounded",onClick:function(){return m(!0)}},s&&g&&l.a.createElement(ae,null),s&&E&&E.searchMovieList&&E.searchMovieList.slice(0,5).map((function(e,a){return l.a.createElement(ee,{movie:e,key:a})})),s&&E&&E.searchMovieList&&0!==E.searchMovieList.length&&l.a.createElement(d.b,{to:{pathname:"/search/keyword=".concat(u.current.value.split(" ").join("-")),state:{searchedMovies:JSON.stringify(E.searchMovieList),keyword:u.current.value}}},l.a.createElement("button",{className:"suggestions__button btn btn-primary btn-block border"},"View All")))))))},le=function(e,a){var t=Object(n.useState)(e),l=Object(i.a)(t,2),r=l[0],c=l[1],o=Object(te.useQuery)(f,{variables:{searchTerm:r}});return Object(n.useEffect)((function(){var t=setTimeout((function(){c(e.split(" ").join("+"))}),[a]);return function(){clearTimeout(t)}}),[e]),o},re=l.a.createContext(s),ce=function(){var e=Object(n.useReducer)(m,s),a=Object(i.a)(e,2),t=a[0],r=a[1];return l.a.createElement("div",{className:"app min-vh-100"},l.a.createElement(re.Provider,{value:{state:t,dispatch:r}},l.a.createElement(d.a,{basename:"/movie-catalog"},l.a.createElement(v,null),l.a.createElement(ne,null),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/",component:U}),l.a.createElement(u.a,{exact:!0,path:"/about",component:H}),l.a.createElement(u.a,{exact:!0,path:"/results",component:z}),l.a.createElement(u.a,{exact:!0,path:"/viewall",component:Y}),l.a.createElement(u.a,{exact:!0,path:"/details/:kind/:id/:title",component:Z}),l.a.createElement(u.a,{exact:!0,path:"/search/keyword:keyword",component:z}),l.a.createElement(u.a,{path:"/",render:X})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie="production"===Object({NODE_ENV:"production",PUBLIC_URL:"/movie-catalog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_OMDB_KEY:"3ff4ea5b",REACT_APP_TMDB_KEY:"0080b388d26799f530961ac46923ae6a"}).REACT_APP_STAGE?{url:{API_URL:"https://movie-catalog-backend-api.herokuapp.com/graphql"}}:{url:{API_URL:"http://localhost:5000/graphql"}},oe=Object(o.a)({},ie),se=new E.ApolloClient({uri:oe.url.API_URL,cache:new E.InMemoryCache});c.a.render(l.a.createElement(E.ApolloProvider,{client:se},l.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},78:function(e,a,t){e.exports=t(109)},83:function(e,a,t){}},[[78,1,2]]]);
//# sourceMappingURL=main.15e73dff.chunk.js.map